<CardhostTopEdge>
  <ModeSwitcher @name={{this.card.name}} @mode="edit" />
  <div>
    <div class="ch-button-group">
      <button
        class="ch-button--secondary"
        data-test-card-editor-delete-btn
        disabled={{not this.cardstackSession.isAuthenticated}}
        {{on "click" this.delete}}
      >
        Delete
      </button>
      <button
        class="ch-button--secondary"
        data-test-card-editor-cancel-btn
        disabled={{not this.cardstackSession.isAuthenticated}}
        {{on "click" this.cancel}}
      >
        Cancel
      </button>
      <button
        data-test-card-editor-save-btn
        disabled={{not this.cardstackSession.isAuthenticated}}
        {{on "click" this.save}}
      >
        Save
      </button>
    </div>
    <div>
      {{#unless this.cardstackSession.isAuthenticated}}
        (Must be logged in to modify the card.)
      {{/unless}}
      <span data-test-card-editor-is-dirty={{this.isDirtyStr}}>
        {{#if this.card.isDirty}}(unsaved){{/if}}
      </span>
    </div>
  </div>
</CardhostTopEdge>

<CardhostLeftEdge />

<div class="card-editor" data-test-card-edit={{this.card.name}}>
  {{#if this.statusMsg}}
    <p><strong>{{this.statusMsg}}</strong></p>
  {{/if}}

  <CardRenderer
    @card={{this.card}}
    @mode="edit"
    @setFieldValue={{action this.setFieldValue}}
    @format="isolated"
  />

  <section class="cardhost-card-document">
    <h3>Card Document:</h3>
    <CodeBlock
      @code={{this.cardJson}}
      @language="javascript"
    />
  </section>
</div>