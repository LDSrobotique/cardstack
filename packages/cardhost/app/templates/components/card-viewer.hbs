<section class="card-view" data-test-card-view={{@card.csTitle}}>
  {{!-- ugh, we're monkey patching the Card API --}}
  <div class="card-renderer--container" role="button" {{on "mouseover" (action (mut @card.isSelected) true)}} {{on "mouseout" (action (mut @card.isSelected) false)}}>
    <CardRenderer
      @card={{@card}}
      @mode={{@mode}}
      @format="isolated"
      @cardSelected={{@card.isSelected}}
    />
  </div>
</section>

<style data-test-view-css>
  {{scope-css this.isolatedCss (concat (safe-css-string @card.canonicalURL) "--isolated")}}
</style>

{{!-- This is hidden, used in tests --}}
<section class="_cardhost-card-document">
  <h3>Card Document</h3>
  <pre data-test-card-json>{{this.cardJson}}</pre>
</section>

{{yield this.card
  (hash
    parentCard=this.parentCard
    grandParentCard=this.grandParentCard
  )
}}
