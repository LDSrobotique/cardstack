<h2 data-test-card-updator={{this.card.id}}>Update Card</h2>

{{#if this.statusMsg}}
  <div><strong>{{this.statusMsg}}</strong></div>
{{/if}}

<br>

<CardRenderer
  @card={{this.card}}
  @setField={{action this.setField}}
  @removeField={{action this.removeField}}
>
  <div class="card-updator--field-btn-wrapper">
    {{#unless this.cardstackSession.isAuthenticated}}
      (Must be logged in to save the card.)
    {{/unless}}
    <span data-test-card-updator-is-dirty={{this.isDirtyStr}}>
      {{#if this.card.isDirty}}(unsaved){{/if}}
    </span>
    <button {{on "click" this.save}}
      data-test-card-updator-save-btn
      disabled={{not this.cardstackSession.isAuthenticated}}
    >
      Save Card
    </button>
  </div>

  <FieldCreator
    @fieldTypeMappings={{this.fieldTypeMappings}}
    @addField={{action this.addField}}
  />
</CardRenderer>

<br>

<h3>Card Document:</h3>
<CodeBlock
  @code={{this.cardJson}}
  @language="javascript"
/>