<div
  class="isolated-card {{safe-css-string this.adoptedFromId}}--isolated"
  data-test-isolated-card={{@card.csTitle}}
  data-test-isolated-card-mode={{@mode}}
>
  <AnimatedContainer class={{if (or (eq @mode "view") (eq @mode "layout")) "isolated-card--view-fields"}}>
    {{#animated-each @fields use=this.transition duration=this.duration as |field|}}
      <FieldRenderer
        @field={{field}}
        @card={{@card}}
        @mode={{@mode}}
        @dropField={{@dropField}}
        @removeField={{@removeField}}
        @toggleStubField={{@toggleStubField}}
        @setPosition={{@setPosition}}
        @setCardValue={{@setCardValue}}
        @setCardReference={{@setCardReference}}
        @setNeededWhenEmbedded={{@setNeededWhenEmbedded}}
        @setFieldName={{@setFieldName}}
        @selectField={{@selectField}}
        @selectedField={{@selectedField}}
        @selectedFieldName={{@selectedFieldName}}
      />
    {{/animated-each}}
  </AnimatedContainer>

</div>